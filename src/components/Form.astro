---

---

<script>
    const submitForm = (that: HTMLElement, ev: SubmitEvent) => {
        ev.preventDefault();
        const formData = new FormData(ev.target as HTMLFormElement);
        const data = {
            name: formData.get("name"),
            allergy: formData.get("allergy"),
            email: formData.get("email"),
            afterparty: formData.get("afterparty"),
        };
        if (!data.name || !data.email) {
            alert("Please fill in name and email");
            return;
        }
        const mailtoStr =
            "mailto:someone@example.com?" +
            "subject=" +
            encodeURIComponent("RSVP Email") +
            "&body=" +
            encodeURIComponent(
                "Namn: " +
                    data.name +
                    "\nAllergier: " +
                    data.allergy +
                    "\nEmail: " +
                    data.email +
                    "\nEfterfest: " +
                    (data.afterparty != null ? "yes!" : "nej"),
            );
        //console.log(mailtoStr);
        window.open(mailtoStr);
        // TODO: clear form?
    };
    const form = document.getElementById("form");
    form?.addEventListener("submit", (ev) => submitForm(form, ev));
</script>

<section id="intro" aria-labelledby="intro-title" class="pt-20 sm:pt-32">
    <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 relative">
        <div class="mx-auto max-w-2xl lg:max-w-4xl lg:px-12">
            <div
                class="mt-6 space-y-6 font-display text-2xl tracking-tight text-blue-600"
            >
                <form id="form">
                    <div class="space-y-12">
                        <div class="">
                            <h2
                                class="font-display text-4xl font-medium tracking-tighter text-blue-600 sm:text-5xl"
                            >
                                Anm칛l er
                            </h2>
                            <p
                                class="mt-6 space-y-6 font-display text-2xl tracking-tight text-blue-900"
                            >
                                Gl칬m inte fylla i allergier och om ni vill k칬ra
                                vidare p친 hemmafest 游때游꿀.
                            </p>
                        </div>
                    </div>
                    <div class="">
                        <div
                            class="mt-10 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6"
                        >
                            <div class="sm:col-span-3">
                                <label
                                    for="name"
                                    class="block leading-6 font-display text-2xl tracking-tight text-blue-900"
                                    >Namn</label
                                >
                                <div class="mt-2">
                                    <input
                                        type="text"
                                        name="name"
                                        id="name"
                                        autocomplete="given-name"
                                        class="block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 text-2xl"
                                        placeholder="B친da namnen om ni 칛r tv친!"
                                    />
                                </div>
                            </div>

                            <div class="sm:col-span-3">
                                <label
                                    for="allergy"
                                    class="block leading-6 font-display text-2xl tracking-tight text-blue-900"
                                    >Allergier</label
                                >
                                <div class="mt-2">
                                    <input
                                        type="text"
                                        name="allergy"
                                        id="allergy"
                                        autocomplete="family-name"
                                        class="block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 text-2xl"
                                        placeholder="Inga allergier? Strunta i f칛ltet!"
                                    />
                                </div>
                            </div>

                            <div class="sm:col-span-4">
                                <label
                                    for="email"
                                    class="block leading-6 font-display text-2xl tracking-tight text-blue-900"
                                    >Email-adress</label
                                >
                                <div class="mt-2">
                                    <input
                                        id="email"
                                        name="email"
                                        type="email"
                                        autocomplete="email"
                                        class="block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 text-2xl"
                                        placeholder="du@n친nstans.nu"
                                    />
                                </div>
                            </div>
                            <div class="sm:col-span-4">
                                <label
                                    for="email"
                                    class="block leading-6 font-display text-2xl tracking-tight text-blue-900"
                                    >Efterfest?</label
                                >
                                <!-- TODO: larger! -->
                                <div class="mt-2 items-center">
                                    <input
                                        id="afterparty"
                                        name="afterparty"
                                        type="checkbox"
                                        class="h-4 w-4 rounded border-gray-300 font-display text-2xl tracking-tight text-blue-900"
                                    />
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="mt-6 flex items-center justify-end gap-x-6">
                        <button
                            type="submit"
                            class="rounded-md bg-indigo-600 px-3 py-2 font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 font-display text-2xl tracking-tight"
                            >Skapa mail</button
                        >
                    </div>
                </form>
            </div>
        </div>
    </div>
</section>
